[global]
fsid = {{ ceph_cluster_id.stdout }}
pid_path = /var/run/ceph
auth_service_required = none
auth_cluster_required = none
auth_client_required = none
mon_host = {% for mon_host in groups.MON -%}
               {{ hostvars[mon_host].vm_network_ip | mandatory }}{%- if not loop.last -%},{%- endif -%}
           {%- endfor %}

{% for item in network_interfaces -%}
    {% if item.name == 'ceph_network' -%}
        cluster_network = {{ item.network }}/{{ item.prefix }}
    {% elif item.name == 'vm_network' -%}
        public_network = {{ item.network }}/{{ item.prefix }}
    {%- endif %}
{%- endfor %}

mon_initial_members = {{ groups.MON | join(',') }}

osd_objectstore = filestore
debug objectcacher = 0
debug paxos = 0
debug journal = 0
debug rados = 0
objecter_infilght_op_bytes = 1048576000
debug refs = 0
debug crypto = 0
debug mds_balancer = 0
debug civetweb = 0
ms_dispatch_throttle_bytes = 1048576000
mon_pg_warn_max_per_osd = 10000
debug lockdep = 0
mon_osd_max_split_count = 10000
objecter_inflight_ops = 102400
debug auth = 0	
debug mds_log = 0
debug mon = 0
debug monc = 0
debug throttle = 0
filestore_rocksdb_options = max_write_buffer_number=6,min_write_buffer_number_to_merge=3,max_background_compactions=4,max_background_flushes=6,max_bytes_for_level_base=3221225472,write_buffer_size=134217728,level0_file_num_compaction_trigger=8,level0_slowdown_writes_trigger=12,level0_stop_writes_trigger=20,table_cache_numshardbits=10,compaction_threads=4,flusher_threads=8,max_subcompactions=4,bloom_locality=10,target_file_size_base=134217728
debug mds_migrator = 0
debug client = 0
debug rgw = 0
debug finisher = 0
debug journaler = 0
debug bdev = 0
rbd_op_threads = 3
debug ms = 0
cephx_sign_messages = False
debug mds_locker = 0
ms_crc_data = False
debug context = 0
debug osd = 0
debug bluestore = 0
debug bluefs = 0
enable_experimental_unrecoverable_data_corrupting_features = rocksdb
debug objclass = 0
debug objecter = 0
journal_multiple = 2
ms_crc_header = False
debug filer = 0
debug rocksdb = 0
debug leveldb = 0
rbd cache = False
debug striper = 0
ms_async_max_op_threads = 20
debug crush = 0
debug optracker = 0
debug tp = 0
ms_type = simple
debug mds = 0
debug rbd_mirror = 0
debug rbd_replay = 0
debug heartbeatmap = 0
debug buffer = 0
debug asok = 0
debug rbd = 0
debug filestore = 0
debug timer = 0
debug mds_log_expire = 0
throttler_perf_counter = False
rbd_default_features = 3
	
[osd]
osd_mkfs_type = xfs
osd_mount_options_xfs = rw,noatime,inode64,logbsize=256k,delaylog
osd_client_message_size_cap = 0
filestore_throttle_high_multiple = 50
journal_throttle_high_multiple = 50
journal_throttle_max_multiple = 400
filestore_throttle_max_multiple = 400
filestore_apply_finisher_threads = 3
osd_op_num_shards = 30
filestore_max_sync_interval = 3
journal_max_write_entries = 1000
osd_mkfs_options_xfs = -f -i size=2048
filestore_throttle_high_threshhold = 0.8
filestore_queue_low_threshhold = 0.32
filestore_queue_high_threshhold = 0.8
osd_enable_op_tracker = False
filestore_fd_cache_size = 10240
osd_client_message_cap = 0
journal_max_write_bytes = 1048576000
filestore_queue_max_ops = 700000
filestore_throttle_low_threshhold = 0.32
filestore_omap_header_cache_size = 409600
journal_throttle_high_threshhold = 0.8
filestore_ondisk_finisher_threads = 2
filestore_wbthrottle_enable = true
filestore_fd_cache_shards = 128
filestore_queue_committing_max_bytes = 1048576000
osd_op_num_threads_per_shard = 2
filestore_queue_max_bytes = 20485760000
filestore_op_threads = 4
journal_throttle_low_threshhold = 0.32
osd_pg_object_context_cache_count = 10240
filestore_queue_committing_max_ops = 5000
filestore_expected_throughput_ops = 60000
filestore_expected_throughput_bytes = 600000000
filestore_omap_backend = rocksdb
osd_min_pg_log_entries = 200
osd_max_pg_log_entries = 1000
rocksdb_bloom_size = 20
rocksdb_block_checksum = 2
	
[client]
rbd_cache = False
rbd_enable_alloc_hint = false
admin socket = /var/run/$cluster/$cluster-$type.$id.$pid.$cctid.asok
log file = /var/log/$cluster/$cluster-$type.$id.$pid.$cctid.log


